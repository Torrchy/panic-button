<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Body Map | Emergency Protocol</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&family=Cinzel:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --deep-brown: #1a1310;
            --dark-brown: #2d1f1a;
            --medium-brown: #5c4a3d;
            --warm-brown: #8b6f47;
            --cream: #f4ead5;
            --gold: #c9a961;
            --burgundy: #6b2c2c;
            --burnt-orange: #b85c38;
        }

        body {
            background: linear-gradient(135deg, var(--deep-brown) 0%, var(--dark-brown) 100%);
            color: var(--cream);
            font-family: 'Crimson Text', serif;
            line-height: 1.8;
            min-height: 100vh;
            padding: 2rem 1rem;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(0deg, rgba(0,0,0,.1) 0px, transparent 1px, transparent 2px, rgba(0,0,0,.1) 3px),
                repeating-linear-gradient(90deg, rgba(0,0,0,.1) 0px, transparent 1px, transparent 2px, rgba(0,0,0,.1) 3px);
            opacity: 0.3;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: clamp(2rem, 6vw, 3.5rem);
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            color: var(--gold);
            text-transform: uppercase;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .back-btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            border: 1px solid var(--medium-brown);
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            background: rgba(45, 31, 26, 0.6);
            backdrop-filter: blur(10px);
        }

        .back-btn:hover {
            border-color: var(--gold);
            background: rgba(93, 74, 61, 0.3);
        }

        .intro {
            background: rgba(93, 74, 61, 0.3);
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-left: 3px solid var(--burnt-orange);
            backdrop-filter: blur(10px);
        }

        .body-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .body-area {
            border: 1px solid var(--medium-brown);
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(45, 31, 26, 0.8) 0%, rgba(29, 19, 16, 0.8) 100%);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .body-area:hover {
            border-color: var(--gold);
            transform: translateY(-4px);
        }

        .body-area.active {
            border-color: var(--burgundy);
            background: rgba(107, 44, 44, 0.2);
        }

        .area-title {
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gold);
        }

        .area-questions {
            display: none;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--medium-brown);
        }

        .area-questions.show {
            display: block;
        }

        .question {
            margin-bottom: 0.8rem;
            font-style: italic;
            opacity: 0.9;
        }

        .sensation-btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            margin: 0.3rem;
            border: 1px solid var(--medium-brown);
            background: rgba(29, 19, 16, 0.8);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            font-family: 'Crimson Text', serif;
            color: var(--cream);
        }

        .sensation-btn:hover {
            background: var(--burgundy);
            border-color: var(--burgundy);
        }

        .sensation-btn.selected {
            background: var(--burgundy);
            border-color: var(--burgundy);
            box-shadow: 0 2px 10px rgba(107, 44, 44, 0.4);
        }

        .interpretation {
            background: linear-gradient(135deg, var(--burgundy) 0%, #4a1f1f 100%);
            color: var(--cream);
            padding: 2rem;
            margin-top: 2rem;
            border: 2px solid var(--burgundy);
            display: none;
            box-shadow: 0 4px 30px rgba(107, 44, 44, 0.4);
        }

        .interpretation.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .interpretation h2 {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        .interpretation ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .interpretation a {
            color: var(--gold);
            text-decoration: underline;
        }

        a {
            color: var(--cream);
            text-decoration: none;
        }

        .emoji {
            font-size: 1.2em;
        }

        @media (max-width: 600px) {
            .body-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-btn">‚Üê Back to Dashboard</a>
        
        <h1>ü´Ä Body Map</h1>
        
        <div class="intro">
            <strong>Click on body areas where you're feeling something.</strong> Then answer what you're feeling there. This helps connect physical sensations to emotional states‚Äîespecially when you can't name the emotion directly.
        </div>

        <div class="body-grid">
            <div class="body-area" onclick="toggleArea('head')">
                <div class="area-title">
                    <span class="emoji">üß†</span> Head/Face
                </div>
                <div class="area-questions" id="head-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'head', 'pressure')">Pressure</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'head', 'fog')">Foggy/Unclear</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'head', 'empty')">Empty</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'head', 'spinning')">Spinning</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'head', 'tight')">Tight/Clenched</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('jaw')">
                <div class="area-title">
                    <span class="emoji">üò¨</span> Jaw/TMJ
                </div>
                <div class="area-questions" id="jaw-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'jaw', 'clenched')">Clenched</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'jaw', 'sore')">Sore</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'jaw', 'locked')">Locked</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'jaw', 'grinding')">Grinding</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('chest')">
                <div class="area-title">
                    <span class="emoji">‚ù§Ô∏è</span> Chest
                </div>
                <div class="area-questions" id="chest-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'chest', 'tight')">Tight/Constricted</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'chest', 'heavy')">Heavy</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'chest', 'vibrating')">Vibrating (4am type)</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'chest', 'empty')">Empty/Hollow</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'chest', 'racing')">Racing heart</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('shoulders')">
                <div class="area-title">
                    <span class="emoji">üí™</span> Shoulders/Neck
                </div>
                <div class="area-questions" id="shoulders-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'shoulders', 'tight')">Tight/Tense</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'shoulders', 'heavy')">Heavy</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'shoulders', 'burning')">Burning</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'shoulders', 'frozen')">Frozen</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('stomach')">
                <div class="area-title">
                    <span class="emoji">ü´É</span> Stomach/Gut
                </div>
                <div class="area-questions" id="stomach-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'stomach', 'knots')">Knots/Twisted</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'stomach', 'nausea')">Nauseous</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'stomach', 'empty')">Empty/Void</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'stomach', 'ibs')">IBS flare</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'stomach', 'fluttery')">Fluttery/Anxious</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('arms')">
                <div class="area-title">
                    <span class="emoji">ü¶æ</span> Arms/Wrists
                </div>
                <div class="area-questions" id="arms-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'arms', 'tense')">Tense</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'arms', 'restless')">Restless/Need to move</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'arms', 'heavy')">Heavy</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'arms', 'numb')">Numb</button>
                </div>
            </div>

            <div class="body-area" onclick="toggleArea('whole')">
                <div class="area-title">
                    <span class="emoji">üßç</span> Whole Body
                </div>
                <div class="area-questions" id="whole-questions">
                    <div class="question">What does it feel like?</div>
                    <button class="sensation-btn" onclick="selectSensation(event, 'whole', 'numb')">Numb everywhere</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'whole', 'floating')">Floating/Disconnected</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'whole', 'heavy')">Heavy/Weighted down</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'whole', 'nothing')">Can't feel anything</button>
                    <button class="sensation-btn" onclick="selectSensation(event, 'whole', 'restless')">Restless/Activated</button>
                </div>
            </div>
        </div>

        <div class="interpretation" id="interpretation">
            <h2>What This Might Mean</h2>
            <div id="interpretation-content"></div>
        </div>
    </div>

    <script>
        let selectedSensations = {};

        function toggleArea(area) {
            const questions = document.getElementById(area + '-questions');
            const areaDiv = event.currentTarget;
            
            questions.classList.toggle('show');
            areaDiv.classList.toggle('active');
        }

        function selectSensation(event, area, sensation) {
            event.stopPropagation();
            
            if (!selectedSensations[area]) {
                selectedSensations[area] = [];
            }
            
            const btn = event.target;
            const index = selectedSensations[area].indexOf(sensation);
            
            if (index > -1) {
                selectedSensations[area].splice(index, 1);
                btn.classList.remove('selected');
            } else {
                selectedSensations[area].push(sensation);
                btn.classList.add('selected');
            }
            
            interpretSensations();
        }

        function interpretSensations() {
            const interpretationDiv = document.getElementById('interpretation');
            const content = document.getElementById('interpretation-content');
            
            if (Object.keys(selectedSensations).length === 0) {
                interpretationDiv.classList.remove('show');
                return;
            }
            
            let interpretation = '<p><strong>Based on your physical sensations:</strong></p><ul>';
            let possibleStates = [];
            
            // Anger patterns
            if (selectedSensations.chest?.includes('tight') || 
                selectedSensations.shoulders?.includes('tight') || 
                selectedSensations.jaw?.includes('clenched') ||
                selectedSensations.arms?.includes('tense')) {
                possibleStates.push('ANGER (even if you don\'t feel angry)');
                interpretation += '<li><strong>Anger/Rage:</strong> Chest tightness, shoulder tension, clenched jaw, tense arms. You might not consciously feel angry, but your body is holding rage.</li>';
            }
            
            // Dissociation patterns
            if (selectedSensations.whole?.includes('floating') || 
                selectedSensations.whole?.includes('numb') || 
                selectedSensations.whole?.includes('nothing') ||
                selectedSensations.head?.includes('fog')) {
                possibleStates.push('DISSOCIATION');
                interpretation += '<li><strong>Dissociation:</strong> Floating, numbness, fog, disconnection. You\'re here but not here. This is a protective response.</li>';
            }
            
            // Freeze response
            if (selectedSensations.whole?.includes('heavy') || 
                selectedSensations.shoulders?.includes('frozen') ||
                selectedSensations.chest?.includes('heavy')) {
                possibleStates.push('FREEZE RESPONSE');
                interpretation += '<li><strong>Freeze Response:</strong> Heavy body, frozen shoulders, weighted down. Your nervous system has hit the brakes.</li>';
            }
            
            // Anxiety patterns
            if (selectedSensations.stomach?.includes('knots') || 
                selectedSensations.stomach?.includes('fluttery') || 
                selectedSensations.chest?.includes('racing') ||
                selectedSensations.chest?.includes('vibrating')) {
                possibleStates.push('ANXIETY/PANIC');
                interpretation += '<li><strong>Anxiety/Panic:</strong> Gut knots, chest vibration (like the 4am wake-ups), racing heart, fluttery stomach. Your alarm system is firing.</li>';
            }
            
            // Flatline/Depression
            if (selectedSensations.whole?.includes('nothing') || 
                selectedSensations.chest?.includes('empty') ||
                selectedSensations.head?.includes('empty')) {
                possibleStates.push('FLATLINE/DEPRESSION');
                interpretation += '<li><strong>Flatline/Depression:</strong> Emptiness, void, can\'t feel anything. The 5pm-8pm window type feeling. Nothing is online.</li>';
            }
            
            // Trauma response
            if (selectedSensations.stomach?.includes('nausea') || 
                selectedSensations.stomach?.includes('ibs')) {
                possibleStates.push('TRAUMA RESPONSE');
                interpretation += '<li><strong>Trauma Response:</strong> Stomach issues, IBS flare, nausea. Your gut is responding to threat/trigger.</li>';
            }
            
            interpretation += '</ul>';
            
            // Add recommendations
            interpretation += '<p><strong>What to do:</strong></p><ul>';
            
            if (possibleStates.includes('ANGER (even if you don\'t feel angry)')) {
                interpretation += '<li>Move your body: Run, walk Maya, physical release</li>';
                interpretation += '<li>Draw/create something</li>';
                interpretation += '<li>NOT a good time to talk about feelings</li>';
            }
            
            if (possibleStates.includes('DISSOCIATION') || possibleStates.includes('FLATLINE/DEPRESSION')) {
                interpretation += '<li>Grounding: <a href="resources.html">Somatic exercises</a></li>';
                interpretation += '<li>Physical anchoring: Hot bath, weighted blanket, Maya cuddles</li>';
                interpretation += '<li>Gentle movement: Walk, don\'t force talking</li>';
            }
            
            if (possibleStates.includes('FREEZE RESPONSE')) {
                interpretation += '<li>Small movements: Just stand up, shake your hands</li>';
                interpretation += '<li><a href="resources.html">Somatic shaking exercises</a></li>';
                interpretation += '<li>Don\'t force big actions yet</li>';
            }
            
            if (possibleStates.includes('ANXIETY/PANIC')) {
                interpretation += '<li><a href="resources.html">Breathing exercises</a> (SheBreath)</li>';
                interpretation += '<li>Movement to discharge energy: Run, walk</li>';
                interpretation += '<li>Avoid caffeine if you haven\'t already had it</li>';
            }
            
            interpretation += '</ul>';
            interpretation += '<p style="margin-top: 1rem;"><a href="actions.html">‚Üí Go to Action Menu for specific next steps</a></p>';
            
            content.innerHTML = interpretation;
            interpretationDiv.classList.add('show');
        }
    </script>
</body>
</html>
